<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>note</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style>
  /*
  Copyright (c) 2017 Chris Patuzzo
  https://twitter.com/chrispatuzzo
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to deal
  in the Software without restriction, including without limitation the rights
  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in all
  copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.
  */
  
  body {
    font-family: Helvetica, arial, sans-serif;
    font-size: 14px;
    line-height: 1.6;
    padding-top: 10px;
    padding-bottom: 10px;
    padding: 30px;
    color: #333;
  }
  
  body > *:first-child {
    margin-top: 0 !important;
  }
  
  body > *:last-child {
    margin-bottom: 0 !important;
  }
  
  a {
    color: #4183C4;
    text-decoration: none;
  }
  
  a.absent {
    color: #cc0000;
  }
  
  a.anchor {
    display: block;
    padding-left: 30px;
    margin-left: -30px;
    cursor: pointer;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
  }
  
  h1, h2, h3, h4, h5, h6 {
    margin: 20px 0 10px;
    padding: 0;
    font-weight: bold;
    -webkit-font-smoothing: antialiased;
    cursor: text;
    position: relative;
  }
  
  h2:first-child, h1:first-child, h1:first-child + h2, h3:first-child, h4:first-child, h5:first-child, h6:first-child {
    margin-top: 0;
    padding-top: 0;
  }
  
  h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor {
    text-decoration: none;
  }
  
  h1 tt, h1 code {
    font-size: inherit;
  }
  
  h2 tt, h2 code {
    font-size: inherit;
  }
  
  h3 tt, h3 code {
    font-size: inherit;
  }
  
  h4 tt, h4 code {
    font-size: inherit;
  }
  
  h5 tt, h5 code {
    font-size: inherit;
  }
  
  h6 tt, h6 code {
    font-size: inherit;
  }
  
  h1 {
    font-size: 28px;
    border-bottom: 1px solid #cccccc;
    color: black;
  }
  
  h2 {
    font-size: 24px;
    border-bottom: 1px solid #cccccc;
    color: black;
  }
  
  h3 {
    font-size: 18px;
  }
  
  h4 {
    font-size: 16px;
  }
  
  h5 {
    font-size: 14px;
  }
  
  h6 {
    color: #777777;
    font-size: 14px;
  }
  
  p, blockquote, ul, ol, dl, li, table, pre {
    margin: 15px 0;
  }
  
  hr {
    border: 0 none;
    color: #cccccc;
    height: 4px;
    padding: 0;
  }
  
  body > h2:first-child {
    margin-top: 0;
    padding-top: 0;
  }
  
  body > h1:first-child {
    margin-top: 0;
    padding-top: 0;
  }
  
  body > h1:first-child + h2 {
    margin-top: 0;
    padding-top: 0;
  }
  
  body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child {
    margin-top: 0;
    padding-top: 0;
  }
  
  a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
    margin-top: 0;
    padding-top: 0;
  }
  
  h1 p, h2 p, h3 p, h4 p, h5 p, h6 p {
    margin-top: 0;
  }
  
  li p.first {
    display: inline-block;
  }
  
  ul, ol {
    padding-left: 30px;
  }
  
  ul :first-child, ol :first-child {
    margin-top: 0;
  }
  
  ul :last-child, ol :last-child {
    margin-bottom: 0;
  }
  
  dl {
    padding: 0;
  }
  
  dl dt {
    font-size: 14px;
    font-weight: bold;
    font-style: italic;
    padding: 0;
    margin: 15px 0 5px;
  }
  
  dl dt:first-child {
    padding: 0;
  }
  
  dl dt > :first-child {
    margin-top: 0;
  }
  
  dl dt > :last-child {
    margin-bottom: 0;
  }
  
  dl dd {
    margin: 0 0 15px;
    padding: 0 15px;
  }
  
  dl dd > :first-child {
    margin-top: 0;
  }
  
  dl dd > :last-child {
    margin-bottom: 0;
  }
  
  blockquote {
    border-left: 4px solid #dddddd;
    padding: 0 15px;
    color: #777777;
  }
  
  blockquote > :first-child {
    margin-top: 0;
  }
  
  blockquote > :last-child {
    margin-bottom: 0;
  }
  
  table {
    padding: 0;
  }
  table tr {
    border-top: 1px solid #cccccc;
    margin: 0;
    padding: 0;
  }
  
  table tr:nth-child(2n) {
  }
  
  table tr th {
    font-weight: bold;
    border: 1px solid #cccccc;
    text-align: left;
    margin: 0;
    padding: 6px 13px;
  }
  
  table tr td {
    border: 1px solid #cccccc;
    text-align: left;
    margin: 0;
    padding: 6px 13px;
  }
  
  table tr th :first-child, table tr td :first-child {
    margin-top: 0;
  }
  
  table tr th :last-child, table tr td :last-child {
    margin-bottom: 0;
  }
  
  img {
    max-width: 100%;
  }
  
  span.frame {
    display: block;
    overflow: hidden;
  }
  
  span.frame > span {
    border: 1px solid #dddddd;
    display: block;
    float: left;
    overflow: hidden;
    margin: 13px 0 0;
    padding: 7px;
    width: auto;
  }
  
  span.frame span img {
    display: block;
    float: left;
  }
  
  span.frame span span {
    clear: both;
    color: #333333;
    display: block;
    padding: 5px 0 0;
  }
  
  span.align-center {
    display: block;
    overflow: hidden;
    clear: both;
  }
  
  span.align-center > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: center;
  }
  
  span.align-center span img {
    margin: 0 auto;
    text-align: center;
  }
  
  span.align-right {
    display: block;
    overflow: hidden;
    clear: both;
  }
  
  span.align-right > span {
    display: block;
    overflow: hidden;
    margin: 13px 0 0;
    text-align: right;
  }
  
  span.align-right span img {
    margin: 0;
    text-align: right;
  }
  
  span.float-left {
    display: block;
    margin-right: 13px;
    overflow: hidden;
    float: left;
  }
  
  span.float-left span {
    margin: 13px 0 0;
  }
  
  span.float-right {
    display: block;
    margin-left: 13px;
    overflow: hidden;
    float: right;
  }
  
  span.float-right > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: right;
  }
  
  code, tt {
    margin: 0 2px;
    padding: 0 5px;
    white-space: nowrap;
    border: 1px solid #eaeaea;
    border-radius: 3px;
  }
  
  pre code {
    margin: 0;
    padding: 0;
    white-space: pre;
    border: none;
  }
  
  .highlight pre {
    border: 1px solid #cccccc;
    font-size: 13px;
    line-height: 19px;
    overflow: auto;
    padding: 6px 10px;
    border-radius: 3px;
  }
  
  pre {
    border: 1px solid #cccccc;
    font-size: 13px;
    line-height: 19px;
    overflow: auto;
    padding: 6px 10px;
    border-radius: 3px;
  }
  
  pre code, pre tt {
    border: none;
  }
  
  .sourceCode { 
  	background-color: rgb(30, 20, 30);
  	border-radius: 5px;
  	color: white;
  }
  </style>
</head>
<body>
<h1 id="paralellisme">Paralellisme</h1>
<p>examen 1/3 TP + 2/3 Oral Oral: pas de préparation, liste de questions fournies</p>
<p>C’est quoi le parallélisme?</p>
<h2 id="concepts-et-définition">1.1 Concepts et définition</h2>
<h3 id="def-le-parallélisme-cest-la-résolution-dun-même-problème-par-la-coopération-de-plusieurs-processeurs."><strong>Def</strong>: Le parallélisme c’est la résolution d’un <code>même problème</code> par la <code>coopération</code> de plusieurs processeurs.</h3>
<p>Le but qu’on va explorer dans ce cours C’est le gain de performance que le parallélisme apporte.</p>
<p>Le parallélisme est naturel: on est habitué à collaborer. Les gens ont déjà pensés à faire ça pour les math et la physique. Les premières machines avec des composants de calcul activables en même temps.</p>
<p>Si c’est naturel, c’est difficile à gérer (coordination à imposer)</p>
<p>À l’époque, le matériel n’était pas fiable et surtout un manque de modèle de calcul qui permet d’exploiter ces machines.</p>
<p>Problème résolut par l’architecture de von Neuman (“la machine séquentielle” par abus de langage). Permet le développement des hardware et le développement des programmes car cela a donnée un modèle de calcul. Le parallélisme est mis de côté. Les besoins de performances de calcul ne font qu’augmenter.</p>
<p>Les machine actuellement les plus puissantes offrent 200 <a href="pflops">pflops</a>/s de puissance. Pour 2 gigawatt par machine (la puissance pour faire fonctionner 40 jet d’eau de Genève)</p>
<p>vers 1990 High performance computing (<a href="HPC">HPC</a>) indique que le parallélisme est une méthode de performance. Aujourd’hui si on a plus de 100 processeur, on peut parler de HPC.</p>
<h3 id="limite-de-larchitecture-de-von-neuman">Limite de l’architecture de Von Neuman</h3>
<ul>
<li>On peut accélérer la vitesse d’horloge de notre machine. Mais ça consomme plus d’énergie et produit beaucoup de chaleur.</li>
<li>Memory Wall, Von Neuman (bottleneck= bouteille d’étranglement)
<ul>
<li>ce qui vide la batterie est le transport des données du CPU à la mémoire (1000x plus gourmand que les calculs, en plus c’est lent de base)</li>
<li>roofline model: <img src="../images/roofline_model.png" alt="roofline_model" /></li>
<li>Le plateau représente la puissance maximale. La pente montre que la bande passante est limitée.</li>
</ul></li>
</ul>
<h3 id="historique-du-parallélisme">Historique du parallélisme</h3>
<ol type="1">
<li>ILLIAC 1970 météo (qui est une machine qui faisait du parallélisme) (prévu avec 256 pro, mais construite avec 64 seulement, et pour 4x le prix)</li>
<li>Rapidement supplantée par les <a href="machines_vectorielles">machines_vectorielles</a></li>
<li>Dès les années 1990, réaparition des machines parallèle: SIMD, MIMD, SNP,… (plein de producteurs américains survivant aux subvention) On supplenté les <a href="machines_vectorielles">machines_vectorielles</a></li>
<li>Dans les années 2000, l’expantion des clusters -&gt; démocratisation du parallélisme</li>
<li>Par la suite les GPU se sont aussi développer et imposés pour le HPC.</li>
<li>Cloud computing / GRID</li>
</ol>
<p>Nouveau classement: GREEN COMPUTING (=voir le bon rapport puissances/consomation)</p>
<h2 id="où-trouver-des-performances">1.2 Où trouver des performances?</h2>
<ol type="1">
<li>Améliorer la technologie (actuellement, on utilise du silicium comme semi-conducteur)</li>
<li>Améliorer l’architecture</li>
<li>Optimiser l’application</li>
</ol>
<p>La fréquence max n’augmente plus depuis 2004 La miniaturisation permet de mettre plus de transistor dans une surface donnée. On est actuellement à 7 nanomètres, on annonce jusqu’à 3 nanomètres Limite: effet tunnel.</p>
<p>Exemple pour s’occuper des tartines: Tâche: * couper le pain * beurrer les tranches * mettre la confiture * ranger sur un plat</p>
<p>Les stratégies: 1. sequentielle 2. travail à la chaine ou pipeline 3. SIMD (plusieurs font la même tâche en même temps) 4. MIMD (Multiple Instruction flow, multiple data flow)</p>
<p>Dans la 4e stratégie, les travailleurs vont réaliser leur tâche <code>à leur rythme</code>. Donc programmation asynchrone chacun travail sur ses propres données. On parle aussi de SPMD (Single Program, Multiple Data)</p>
<p>Mémoire distribué vs mémoire partagée. SIMD utilise une mémoire distribuée.</p>
<p>Parallélisme de contrôle (ou de tâche), où les travailleurs font en même temps des choses différente (exemple: pipeline), et le parallélisme de données où l’on fait la même chose sur des données différentes (SIMD, MIMD, SPMD)</p>
<p>Le parallélisme de données offre un potentiel beaucoup plus important que le parallélisme de contrôle. Ce dernier est limité à quelques tâches parallélisables par la limitation intrinsèque des problèmes à résoudre. Par contre il est fréquent de répéter la même opération sur des données énormes.</p>
<h2 id="notion-de-granularité">Notion de granularité</h2>
<p>La taille des tâches associées à chaque processeur entre 2 échanges avec les autres processeurs.</p>
<h2 id="scalabilité">Scalabilité</h2>
<p>Passage à l’échelle. C’est la possibilité d’augmenter le nombre de processeurs tout en augmentant les performances proportionnellement.</p>
<p>Il est très important pour les performances que tous les processeur soient toujours actifs et non qu’il s attendent le résultat d’un autre. Il faut donc distribuer le travail de façon équitable. Par exemple si dans l’exempledes tartines, en MIMD, l’un des travailleurs ne faisait que couper le pain, il se pourrait que les autres doivent attendre. C’est un prolème difficiles du parallélisme qui sera rediscuté tou au long de ce cours.</p>
<h1 id="chapitre-2-architectures-à-haute-performance">Chapitre 2 Architectures à haute performance</h1>
<h2 id="différentes-arhitectures">2.1 Différentes arhitectures</h2>
<p>Architecture “instruction driven”</p>
<h2 id="a-single-multiple">a |single | multiple</h2>
<p>single |SISD |MISD multiple | SIMD |MIMD</p>
<p>C’est la classification de Flynn (~1970)</p>
<ul>
<li>Architecture vectorielle</li>
<li>Architecture data-flow: C’est la disponibilité des données qui fait avancer le programme</li>
<li>Architecture_ILP (Instruction Level parallelism)</li>
</ul>
<h2 id="architecture-simd">2.2 Architecture SIMD</h2>
<figure>
<img src="../images/simd.png" alt="simd" /><figcaption>simd</figcaption>
</figure>
</body>
</html>
